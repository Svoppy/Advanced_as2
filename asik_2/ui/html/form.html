<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="../static/css/style.css" />
  <link rel="stylesheet" href="../static/css/nivo-slider.css" type="text/css" media="screen" />
  <link rel="stylesheet" href="../static/css/default/default.css" type="text/css" media="screen" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script src="jquery.nivo.slider.pack.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <title>AITU NEWS</title>
</head>
<body id="form">
<div id="wrapper">

<header>
  <div id="logo">
    <h1>AITU News <span id="iisrt"><span id="ii"></span>  <span id="srt"></span></span></h1>
    <div id="tagline">
      <h2>All News and Events</h2>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="/index" id="homenav">Home</a></li>
      <li><a href="/blog" id="blognav">For students</a></li>
      <li><a href="/fullwidth" id="fullwidthnav">For applicants</a></li>
      <li><a href="/contact">Contact</a></li>
      <li><a href="/form">Create News</a></li>
      <li><a href="#">About</a></li>
    </ul>
  </nav>
</header>

<h2>Create News Article</h2>
<form id="newsForm">
  <label for="title">Title:</label>
  <input type="text" id="title" name="title" required><br>

  <label for="content">Content:</label><br>
  <textarea id="content" name="content" rows="4" cols="50" required></textarea><br>

  <button type="button" onclick="submitForm()">Submit</button>
</form>

<script>
  function submitForm() {
    const title = document.getElementById("title").value;
    const content = document.getElementById("content").value;

    fetch('/addArticle', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ title, content }),
    })
            .then(response => response.json())
            .then(data => {
              // Redirect to success page or display success message
              alert(data.message);
              window.location.href = '/success';
            })
            .catch(error => console.error('Error:', error));
  }
</script>
  <footer>
    <p>Copyright &copy 2024 Kazikhanov Dias. All Rights Reserved.</p>
  </footer>
</div>
</body>
</html>
